---
layout: post 
title: Объекты в php
permalink: php-objects
tags: php
---
http://php.net/manual/ru/language.oop5.basic.php
http://svyatoslav.biz/misc/psr_translation/#_PSR-2
https://ru.hexlet.io/courses/php-introduction-to-oop/lessons/classes/theory_unit

### Основные понятия

Объект - это некая предметная область, предмет или сущность, например стол, стул, человек, автомобиль, имеющий характеристики
Состояние объекта определяют его свойства или атрибуты, будет их называть характеристиками объекта, например стол - деревянный
Объект может обладать поведением (положением), то есть производить операции над свойствами, поведение называют - методами объекта.
Объекты могут взаимодействовать между собой и могут менять поведение друг друга. В php объект - это тип данных

Класс - это структура (абстракция), декларировав которую можно создать объект класса, или как еще говорят экземпляр. 
Например от класса Автомобиль можно создать объекты Nissan, Opel, Ваз

### Объявление класса

Чтобы создать объект, сначала нужно определить его класс.

В php мире принято объявлять класс в отдельном файле. Файлы и классы следует именовать одинаково, при этом структура
файлов и папок нигде не регламентируется, она зависит от специфики проекта.

Например:
1. `HtmlCodeParser`
2. `BaseMessage`
3. `TestController`
4. `BootstrapInterface`
5. `InlineAction`
6. `TestTrait`
7. `ContainerNotRegisteredException`

~~~php
<?php

namespace oop;

class Application
{
    public $object;
}

~~~

Как правило если пакет подгружается через composer, классы размещают в подкаталоге `src`, тесты в подкаталоге `tests`
Каждый класс должен быть объявлен в своем пространстве имен, при этом не стоит забывать что пространство имен - это просто строка не к чему не призывающая

Например:
N.  Класс Пространство имен Полный путь
1. `DomainException` `Zend\Http\Header\Exception`  `zend-http/src/Header/Exception/DomainException.php`   
2. `StartSession`    `Illuminate\Session\Middleware` `framework/src/Illuminate/Session/Middleware/StartSession.php`
3. `BaseYii`         `yii`                           `yii2/framework/BaseYii.php`

Чтобы работала автозагрузка классов нужно добавить пространство имен в секцию `autoload` в фаил `composer.json`.
При этом класс будет подгружен только в момент использования
~~~json
{
"autoload": {
        "psr-4": {
            "oop\\": "src/"
        }
    }
}

~~~
### Создание объекта

Создадим объект от нашего класса `Application`, для этого используется ключевое слово `new`.
В данном случае класс определен в своем пространстве имен `oop`

~~~php
<?php
$o1 = new \oop\Application(); // () - контруктор
$o2 = new \oop\Application; // если контруктор не определен, то () можно опустить
$obj = 'oop\Application'; // или \oop\Application::class
$o3 = new $obj(); // возможно создать объект динамически, определив имя класса в строку
~~~

### Свойства

Свойства в общем понимании - это характеристики объекта. Можно задать значение по умолчанию

### Взаимодествие классов


Понятия объект, класс, шаблон проектирования

Используеются для решения

Каждый паттерн описывает некую повторяющуюся проблему и ключ к ее разгадке, причем таким образом, что этим ключом можно пользоваться при решении самых разнообразных задач

Цель применения

Для решения типовых задач

Реаизация и является решением задачи

Описывает решаение целого класса задач

Инкапсуляция - состояние обьекта может быть изменено только самим классом, и только там закрывать изменение из вне
Вннутренее состояние системы это дело самой системы
это принцип, согласно которому любой класс и в более широком смысле – любая часть системы, должны рассматриваться как чёрный ящик — пользователь класса или подсистемы должен видеть и использовать только интерфейс (т. е. список декларируемых свойств и методов) и не вникать во внутреннюю реализацию. 
позволяет (теоретически) минимизировать число связей между классами и подсистемами и, соответственно, упростить независимую реализацию и модификацию классов и подсистем.

Наследование -  

Полиморфизм - классы потомки как будто это класс предок

Выявление сущеностей для проекта

