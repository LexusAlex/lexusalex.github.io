---
layout: default
nav_order: 11
permalink: 11-ssh-authentication-by-key
title: SSH аутентификация по ключу
description: Добавляем возможность заходить на сервер по публичному ключу
date: 2021-01-24 23:00:00 +3
parent: Заметки
themes: linux ssh
---

# SSH аутентификация по ключу
{: .no_toc }

<details open markdown="block">
  <summary>
    Содержание
  </summary>
  {: .text-delta }
1. TOC
{:toc}
</details>
---

Частой операцией для работы с linux серверами является вход на сервер по публичному ключу.

Решил сделать небольшую инструкцию, вдруг кому пригодится.

## Генерация ключа

Сгенерируем пару ключей публичный и приватный на клиенте.

Будут спрашивать имя файла, можно оставить по умолчанию либо ввести свое. Так же спрашивается парольная фраза — это пароль ключа.
Его тоже не обязательно устанавливать.

```shell
ssh-keygen -t rsa
```

В итоге в каталоге `~/.ssh` появились пара ключей вида, приватный и публичный.

```shell
id_rsa
id_rsa.pub
```

Если они уже есть, то просто используем ключ `id_rsa.pub`.

## Копирование ключа на сервер

Теперь нужно скопировать наш публичный ключ в файл `~/.ssh/authorized_keys` на сервер.


```shell
ssh-copy-id -i ~/.ssh/id_rsa.pub alex@192.168.88.226
```
или так

```shell
cat ~/.ssh/id_rsa.pub | ssh git@192.168.88.226 'cat >> ~/.ssh/authorized_keys'
```

После этого можем логиниться на сервер без пароля.

```shell
ssh alex@192.168.88.226
```