---
layout: default
title: Вопросы и решения
comments: true
summary: Алексей Шмелев - Вопросы и решения
description: Вопросы и решения
permalink: /questions-and-solutions2
nav_order: 8
---

# Вопросы и решения
{: .no_toc }

<details close markdown="block">
  <summary>
    Содержание
  </summary>
  {: .text-delta }
1. TOC
{:toc}
</details>
---

TODO Когда будет что сортировать - разбить по тегам, пока просто по большим темам.

## Linux

### Поиск по содержимому файлов

Очень частая операция - это поиск по-содержимому файлов.
Здесь нам помогут команда `grep`

```shell
# Параметры -r рекурсивный поиск, -n номера строк, -w целые слова -i игнорировать регистр
# Будет выдан список всех мест где встречается слово Интерфейс
grep -rnwi docs/ -e "Интерфейс"
# Включить в поиск файлы только с расширением php
grep --include=*.{.php} -rnw docs/ -e "Интерфейс"
# Исключить из поиск файлы с расширением md
grep --exclude=*.md -rnw docs/ -e "Интерфейс"
# Вывести только имя файла а не весь результат
grep -rnwil docs/ -e "Интерфейс"
# Или же так, что тоже самое
grep -rwni "Интерфейс" docs/
# Вывод нескольких строк, до и после найденной
grep -rwni -C3 "Интерфейс" docs/
# Найти строку в определенном файле
grep alex /etc/passwd
```

## Git

### Добавить новый коммит отменяющий действия предыдущего

Для этого используется команда `git revert`, она отменяет одиночный коммит.

```shell
# Открыть редактор для отмены последнего коммита, новым коммитом, коммит будет сделан с обратными изменениями
git revert HEAD
# Не будет делать новый коммит, git даст возможность сделать это пользователю, файлы будут добавлены в проиндекированные файлы
git revert -n HEAD
```

Если нужно отменить один коммит эта команда предпочтительней потому, 
что история проекта не изменяется, история идет вперед, что очень правильно.
Самое главное, что здесь мы не потеряем код.